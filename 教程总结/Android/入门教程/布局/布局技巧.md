



https://blog.csdn.net/jia4525036/article/details/18982197
viewPagerå¸¸ç”¨å±æ€§
1ï¼‰mViewPager.setOffscreenPageLimit(2);//è®¾ç½®ç¼“å­˜view çš„ä¸ªæ•°ï¼ˆå®é™…æœ‰3ä¸ªï¼Œç¼“å­˜2ä¸ª+æ­£åœ¨æ˜¾ç¤ºçš„1ä¸ªï¼‰
2ï¼‰mViewPager.setPageMargin((int)getResources().getDimensionPixelOffset(R.dimen.ui_5_dip));//è®¾ç½®viewpageræ¯ä¸ªé¡µå¡çš„é—´è·ï¼Œä¸galleryçš„spacingå±æ€§ç±»ä¼¼
3ï¼‰ViewPageræ›´æ–°æ•°æ®é—®é¢˜ï¼š


åŒæ—¶ç›‘å¬é•¿æŒ‰å’ŒæŠ¬èµ·
```
 xx.setOnTouchListener { _, event ->
      if(event.action == MotionEvent.ACTION_UP){  //æŠ¬èµ·çš„åŠ¨ä½œ
         xxx
      }
      return@setOnTouchListener false
    }
    xx.setOnLongClickListener {
       xxxx
      return@setOnLongClickListener false
    }
```



ç»™æ–‡å­—è®¾ç½®å›¾ç‰‡ï¼Œå®ç°ä¸€äº›ç‰¹æ®Šæ•ˆæœï¼Œä¾‹å¦‚ç‚¹è¿™é‡Œæœç´¢ğŸ” U+1F50D  æ”¾å¤§é•œ
1
drawable.setBounds( 0, 0, drawable.getIntrinsicWidth(), drawable.getIntrinsicHeight()); //éœ€è¦è®¾å®šdrawableçš„å¤§å°
tv.setCompoundDrawables(drawable);
2
setCompoundDrawablesWithIntrinsicBounds(drawable)
æ–‡å­—è¶…é•¿æ˜¾ç¤ºç‚¹ç‚¹ https://blog.csdn.net/sinat_38184748/article/details/90181546
// åœ¨å­—ç¬¦ä¸²æœ€åæ˜¾ç¤ºçœç•¥å·
android:ellipsize="end"
// åœ¨å­—ç¬¦ä¸²å¼€å§‹æ˜¾ç¤ºçœç•¥å·
android:ellipsize="start"
// åœ¨å­—ç¬¦ä¸²ä¸­é—´æ˜¾ç¤ºçœç•¥å·
android:ellipsize="middle"
// ä»¥è·‘é©¬ç¯çš„æ–¹å¼æ˜¾ç¤º(åŠ¨ç”»æ¨ªå‘ç§»åŠ¨)æ˜¾ç¤ºçœç•¥å·
android:ellipsize="marquee"
æ–‡å­—å¸¦ä¸€ä¸ªå›¾æ ‡
drawablePaddingå›¾æ ‡ä¸æ–‡å­—é—´è·
```
<TextView
        android:drawablePadding="11" 
        android:drawableRight="@drawable/login_arrow_right"/>
```
æ˜¾ç¤ºå•è¡Œï¼Œä¸è‡ªåŠ¨å›è¡Œ
android:singleLine="true"

ä»£ç å®ç°å‚è€ƒhttps://github.com/MrFuFuFu/ClearEditText  ç›®å‰æ²¡æ³•è‡ªç”±è°ƒæ•´iconä½ç½®ï¼Œåªèƒ½åœ¨å›ºå®šçš„left,top,right,bottom
https://stackoverflow.com/questions/46589519/how-to-use-specified-weights-for-fonts-in-xml
https://developer.mozilla.org/en-US/docs/Web/CSS/font-weight
https://www.w3.org/TR/css-fonts-3/#font-weight-numeric-values
å­—é‡ android:textFontWeight  å­—ä½“ç²—çš„ç¨‹åº¦
100    Extra Light or Ultra Light
200    Light or Thin
300    Book or Demi
400    Normal or Regular
500    Medium
600    Semibold, Demibold
700    Bold
800    Black, Extra Bold or Heavy
900    Extra Black, Fat, Poster or Ultra Black

https://www.jianshu.com/p/8c6ddebbf4f2
https://www.w3.org/Style/Examples/007/units
android:emså±æ€§
emæ˜¯cssä¸­å­—ä½“çš„å¤§å°å•ä½
å®ƒæ˜¯å­—æ¯ M åœ¨ç»™å®šçš„è‹±è¯­å­—ä½“å¤§å°ä¸­çš„å®½åº¦ã€‚æ‰€ä»¥ 2em æ˜¯è¿™ä¸ªå­—ä½“ä¸­å­—æ¯ M çš„ä¸¤å€ã€‚å­—ä½“ä¸åŒäºè‹±è¯­ï¼Œå®ƒæ˜¯è¿™ä¸ªå­—ä½“ä¸­æœ€å®½çš„å­—æ¯å®½åº¦ï¼Œè¿™ä¸ªå®½åº¦æ˜¯ä¸åŒçš„åƒç´ å¤§å°
è‹¥é™åˆ¶å­—ç¬¦ä¸²é•¿åº¦è¯·å°è¯• maxLengthï¼Œè‹¥å­—å·ä¸å˜ï¼Œé™åˆ¶æ–‡å­—æ‰€åœ¨å±å¹•å®½åº¦ï¼Œå¯å°è¯• maxEms

TextViewåŠ¨æ€è®¾ç½®style
textView.setTypeface(null, Typeface.BOLD);
ä»£ç è®¾ç½®ç²—ä½“
tv.getPaint().setFakeBoldText(true);




EditText
æ§åˆ¶å…‰æ ‡çš„æ˜¾ç¤ºå’Œéšè—
setCursorVisible(true/false)
å…‰æ ‡æœ€å setSelection(int index) èƒ½å¤Ÿè®¾ç½®å…‰æ ‡çš„ä½ç½®ï¼›
è¾“å…¥é—´éš”ç¬¦ æ‰‹æœºå·ï¼Œé“¶è¡Œå¡å·
   è‡ªå·±åˆ¤æ–­æ‹¿åˆ°stringï¼Œå¤„ç†åå†è®¾ç½®å›å»
  ç¤ºä¾‹182 2217 1111
```
 public void onTextChanged(CharSequence text, int start, int before, int count) {
    Log.d("LoginView", "text "+text+" start "+start+" before "+before+" count "+count);
    StringBuilder sb = new StringBuilder(text);
    if (before > count) {
      Log.d("AHLoginViewModel", "æ–‡å­—åˆ é™¤===");
      if (text.length() == 9) {
        //åˆ é™¤çš„å˜åŒ–åæ˜¯9ä½ ç»§ç»­åˆ é™¤ä¸€ä½
        sb.deleteCharAt(sb.length()-1);
        editText.setText(sb.toString());
      } else if (text.length() == 4) {
        //åˆ é™¤çš„å˜åŒ–åæ˜¯4ä½ ç»§ç»­åˆ é™¤ä¸€ä½
        sb.deleteCharAt(sb.length()-1);
        editText.setText(sb.toString());
      }
    } else {
      Log.d("AHLoginViewModel", "æ–‡å­—å¢åŠ ===");
      if (text.length() == 4) {
        //å¢åŠ çš„å˜åŒ–åæ˜¯4ä½ï¼Œå¾€å‰æ’å…¥ä¸€ä½
        sb.insert(sb.length()-1,SPACE);
        editText.setText(sb.toString());
      } else if (text.length() == 9) {
        //å¢åŠ çš„å˜åŒ–åæ˜¯9ä½ï¼Œå¾€å‰æ’å…¥ä¸€ä½
        sb.insert(sb.length()-1,SPACE);
        editText.setText(sb.toString());
      }
    }
  }
```
ç›‘å¬è½¯é”®ç›˜åˆ é™¤é”®
```
EditTextPhone.setOnKeyListener(new View.OnKeyListener() {
      @Override
      public boolean onKey(View v, int keyCode, KeyEvent event) {
        int action = event.getAction();
        if(keyCode == KeyEvent.KEYCODE_DEL&&action == KeyEvent.ACTION_DOWN) {
        }
        return false;
      }
    });
```
https://blog.csdn.net/Lindroid20/article/details/72551102
EditTextä¸‹åˆ’çº¿
å»æ‰ï¼šandroid:background="@null"
textCursorDrawable å…‰æ ‡çš„æ ·å¼ï¼Œé¢œè‰² å¯ä»¥ä½¿ç”¨shapeçš„drawable  @nullå»æ‰å…‰æ ‡
android:cursorVisible å…‰æ ‡æ˜¯å¦å±•ç¤º
æ”¹å˜ä¸‹åˆ’çº¿é¢œè‰²ï¼Œä½¿ç”¨ä¸»é¢˜å½¢å¼
```
<style name="LoginEditText">
        <item name="colorControlNormal">@color/black_606266</item>   
        <item name="colorControlActivated">@color/black_606266</item>  //å…‰æ ‡å’Œä¸‹åˆ’çº¿ä¸€ä¸ªé¢œè‰²
        <item name="colorControlHighlight">@color/black_606266</item>
    </style>
 //ä½¿ç”¨   
 android:theme="@style/LoginEditText"    
```
ä¸‹åˆ’çº¿ä¸æ–‡å­—çš„è·ç¦»  android 28 lineHeightï¼ŒlineSpacingMultiplier(è¡Œé—´è·çš„å€æ•°)ï¼ŒlineSpacingExtra(è®¾ç½®è¡Œé—´è·)
åˆ«æƒ³äº†ï¼Œè‡ªå·±ç”¨viewå®ç°ä¸€æ¡ä¸‹åˆ’çº¿å§ï¼Œå…ˆåŠŸèƒ½åä¼˜é›…
ä¸‹åˆ’çº¿å®½åº¦
1 å»æ‰èƒŒæ™¯ï¼Œè‡ªå®šä¹‰EditTextåè‡ªå·±ç”»
2 drawable
```
<selector xmlns:android="http://schemas.android.com/apk/res/android">
  <item android:state_focused="false" android:drawable="@drawable/xg_edit_bg_normal"/>
  <item android:state_focused="true" android:drawable="@drawable/xg_edit_bg_focused"/>
</selector>
normal
<layer-list xmlns:android="http://schemas.android.com/apk/res/android">
  <item>
    <shape>
      <solid android:color="@color/xg_black_cfd6e4" />
    </shape>
  </item>
  <item android:bottom="1dp">
    <shape>
      <solid android:color="@color/xg_white" />
      <padding
          android:bottom="5dp"
          android:top="5dp" />
    </shape>
  </item>
</layer-list>
focused
<layer-list xmlns:android="http://schemas.android.com/apk/res/android">
  <item >
    <shape >
      <solid android:color="@color/xg_blue_1a66ff"/>
    </shape>
  </item>
  <item android:bottom="1dp">
    <shape >
      <solid android:color="@color/xg_white"/>
      <padding
          android:bottom="5dp"
          android:top="5dp" />
    </shape>
  </item>
</layer-list>
```
æ²¡æœ‰èƒŒæ™¯çš„
```
focus
<layer-list xmlns:android="http://schemas.android.com/apk/res/android">
  <item
      android:gravity="bottom">
    <shape android:shape="line">
      <size android:height="4px"/>
      <stroke android:width="1dip" android:color="@color/xg_blue_1a66ff"/>
    </shape>
  </item>
</layer-list>
normal
<layer-list xmlns:android="http://schemas.android.com/apk/res/android">
  <item
      android:gravity="bottom">
    <shape android:shape="line">
      <size android:height="4px"/>
      <stroke android:width="1dip" android:color="@color/xg_black_cfd6e4"/>
    </shape>
  </item>
</layer-list>
```

EditTextæ»šåŠ¨æ¡æ ·å¼
android:scrollbarSize="3dp"
android:scrollbarThumbVertical="@drawable/shape_scrollbar"
android:scrollbarTrackVertical="@drawable/shape_scrollbar"
android:scrollbars="vertical"
æ¨ªå‘æ»šåŠ¨å¹¶éšè—æ»šåŠ¨æ¡
android:scrollbars="horizontal"
android:fadeScrollbars="true"


TextViewå’ŒEditTextè®¾ç½®textè½¬æ¢æ˜¾ç¤º
edit.setTransformationMethod(HideReturnsTransformationMethod.getInstance());
HideReturnsTransformationMethodéšè—å›è½¦
SingleLineTransformationMethodä¸èƒ½ç”¨æ¢è¡Œå›è½¦
PasswordTransformationMethodå¯†ç ç±»å‹
å¯ä»¥è‡ªå®šä¹‰å®ç°å…¨å°å†™è½¬ä¸ºå…¨å¤§å†™
https://blog.csdn.net/lylodyf/article/details/53036853

è½¯é”®ç›˜è¡Œä¸ºhttps://blog.csdn.net/way_ping_li/article/details/8469815
android:imeOptions="flagNoExtractUi"  //ä½¿è½¯é”®ç›˜ä¸å…¨å±æ˜¾ç¤ºï¼Œåªå ç”¨ä¸€éƒ¨åˆ†å±å¹•
åŒæ—¶,è¿™ä¸ªå±æ€§è¿˜èƒ½æ§ä»¶è½¯é”®ç›˜å³ä¸‹è§’æŒ‰é”®çš„æ˜¾ç¤ºå†…å®¹,é»˜è®¤æƒ…å†µä¸‹ä¸ºå›è½¦é”®
android:imeOptions="actionNone"  //è¾“å…¥æ¡†å³ä¾§ä¸å¸¦ä»»ä½•æç¤º
android:imeOptions="actionGo"    //å³ä¸‹è§’æŒ‰é”®å†…å®¹ä¸º'å¼€å§‹'
android:imeOptions="actionSearch"  //å³ä¸‹è§’æŒ‰é”®ä¸ºæ”¾å¤§é•œå›¾ç‰‡ï¼Œæœç´¢
android:imeOptions="actionSend"    //å³ä¸‹è§’æŒ‰é”®å†…å®¹ä¸º'å‘é€'
android:imeOptions="actionNext"   //å³ä¸‹è§’æŒ‰é”®å†…å®¹ä¸º'ä¸‹ä¸€æ­¥'
android:imeOptions="actionDone"  //å³ä¸‹è§’æŒ‰é”®å†…å®¹ä¸º'å®Œæˆ'

å¯åŠ¨/ç¦ç”¨å¤åˆ¶ç²˜è´´
android:longClickable="false"
android:textIsSelectable="false"

ç›‘å¬è¾“å…¥å®Œæˆ
```@java
edittext.setOnEditorActionListener(new TextView.OnEditorActionListener() {
    @Override
    public boolean onEditorAction(TextView textView, int i, KeyEvent keyEvent) {
        if(i== EditorInfo.IME_ACTION_DONE){
            Toast.makeText(getApplicationContext(),"Done pressed",Toast.LENGTH_SHORT).show();
        }
        return false;
    }
});
```
setOnFocusChangeListener



https://stackoverflow.com/questions/2658772/vertical-line-using-xml-drawable?answertab=trending#tab-top
ç”»æ¨ªçº¿ï¼Œç«–çº¿
```
<View
    android:layout_width="1dp"
    android:layout_height="match_parent"
    android:background="#FF0000FF" />
<View
    android:layout_width="match_parent"
    android:layout_height="1dp"
    android:background="#FF0000FF" />    
```
é˜´å½±xmlä¸­  todo shadowå¦‚ä½•ç”Ÿæ•ˆçš„
è¿™å‡ ä¸ªæ˜¯æ–‡å­—çš„å±æ€§
Sdk\platforms\android-32\data\res\values\attrs.xml
android:shadowDx="0"
android:shadowDy="2"
android:shadowColor="@color/shadow_142a7bff"
android:shadowRadius="10" //é˜´å½±åŠå¾„
android 28ä»¥åè®¾ç½®é˜´å½±é¢œè‰²
Viewçš„é˜´å½±
android:elevation
android:translationZ="10dp"
// é€šè¿‡xmlè®¾ç½®
android:outlineAmbientShadowColor="#FFAAAA" // ç¯å¢ƒé˜´å½±   ä¸æ˜æ˜¾
android:outlineSpotShadowColor="#BAFDCE" // ç‚¹é˜´å½±      æ¨èç”¨è¿™ä¸ª
// é€šè¿‡ä»£ç è®¾ç½®
view.setOutlineAmbientShadowColor(mContext.getResources().getColor(R.color.ambient_shadow_color));// ç¯å¢ƒé˜´å½±
view.setOutlineSpotShadowColor(mContext.getResources().getColor(R.color.spot_shadow_color));// ç‚¹é˜´å½±

é€æ˜åº¦
android:alpha="0.8"

backgroundä¸backgroundTint  android5.0
backgroundTintç”¨äºä¸åŸæ¥çš„backgroundè¿›è¡Œé¢œè‰²å åŠ ï¼ŒæŒ‰ç…§BackgroundTintMode
backgroundä¸ºwhiteï¼ŒbackgroundTintä¸º0.8çš„whiteï¼Œç»“æœç›¸å½“äºç™½è‰²+0.8çš„alpha
1 ä½¿ç”¨tintå¯ä»¥ä¿ç•™åŸæ¥çš„é˜´å½±æ³¢çº¹ç­‰æ•ˆæœ
2 backgroundæ˜¯ä¸€ä¸ªdrawableæˆ–è€…å›¾ç‰‡,tintè®¾ç½®ä¸€ä¸ªé¢œè‰²ï¼Œè¿™æ ·å°±æ”¹å˜äº†drawableé¢œè‰²ï¼Œå°‘å†™drawableäº†
3 FloatingActionButtonä½¿ç”¨app:srcCompatè€Œä¸æ˜¯backgroundï¼Œå¯ä»¥ä½¿ç”¨backgroundTintè¿›è¡Œé¢œè‰²æ”¹å˜




Spaceæ ‡ç­¾
Spaceæ˜¯ä¸€ä¸ªè½»é‡çº§çš„Viewå­ç±»ï¼Œé€šå¸¸å°†å…¶ç”¨äºåˆ›å»ºç»„ä»¶ä¹‹é—´é—´éš™çš„ç›®çš„ï¼Œä¹Ÿå¯ä»¥è¾…åŠ©ConstraintLayoutå®šä½ç­‰
```
<Space
        android:id="@+id/space"
        />
```








https://www.jianshu.com/p/59e8006c7cbd
å®ç°å¯Œæ–‡æœ¬  ä¸€éƒ¨åˆ†æ–‡å­—ä¸åŒæ ·å¼
 //æ–¹æ³•ä¸€ï¼š
        TextView tvValue = findViewById(R.id.tv_value);
        String str="é»˜è®¤é¢œè‰²<font color='#FF0000'><small>çº¢é¢œè‰² 
       </small></font>";
        tvValue.setTextSize(18);
        tvValue.setText(Html.fromHtml(str));
æ–¹æ³•äºŒï¼š//å…¶ä¸­INCLUSIVEæ˜¯é—­åŒºé—´ EXCLUSIVEæ˜¯å¼€åŒºé—´
SpannableStringBuilder spannableString = new SpannableStringBuilder("å¦‚æœæˆ‘æ˜¯é™ˆå¥•è¿…");
ForegroundColorSpan foregroundColorSpan1 = new ForegroundColorSpan(Color.GREEN);
ForegroundColorSpan foregroundColorSpan2 = new ForegroundColorSpan(Color.GREEN);
spannableString.setSpan(foregroundColorSpan1, 0, 2, Spanned.SPAN_INCLUSIVE_EXCLUSIVE);
spannableString.setSpan(foregroundColorSpan2, 4, 7, Spanned.SPAN_INCLUSIVE_EXCLUSIVE);
mTextView.setText(spannableString);

å…¶ä»–è¿˜æœ‰BackgroudColorSpanï¼ŒAbsoluteSizeSpanï¼ŒUnderlineSpan ï¼ŒStrikethroughSpanï¼ŒSuperscriptSpanï¼Œå›¾ç‰‡ImageSpan
ClickableSpanæ”¯æŒç‚¹å‡»
```
class MyClickableSpan extends ClickableSpan{// extend ClickableSpan     

    String clicked;
    public MyClickableSpan(String string) {
        super();
        clicked = string;
    }
    @Override
    public void onClick(View tv) {
       Toast.makeText(MainActivity.this,clicked , Toast.LENGTH_SHORT).show();
    }

    @Override
    public void updateDrawState(TextPaint ds) {// override updateDrawState
       //å–æ¶ˆä¸‹åˆ’çº¿ é»˜è®¤å­˜åœ¨
        ds.setUnderlineText(false); // set to false to remove underline
    }
}
```
è®¾ç½®ClickableSpanè¿˜éœ€è¦è®¾ç½®
```
binding.getSmsAgreementText.setMovementMethod(LinkMovementMethod.getInstance());
 binding.getSmsAgreementText.setHighlightColor(0);//ç‚¹å‡»æ—¶æ–‡å­—çš„èƒŒæ™¯
 xmlä¸­
 android:focusable="true"
android:clickable="true"
```
ClickableSpanå’ŒForegroundColorSpanåŒæ—¶è®¾ç½®é¢œè‰²ä¸ç”Ÿæ•ˆ
è§£å†³ï¼šåªä¿ç•™ClickableSpanï¼ŒupdateDrawStateä¸­è®¾ç½®é¢œè‰²å³å¯


//todo diffutil
https://juejin.cn/post/7033206569181544461
https://juejin.cn/post/7206391499264426041
//todo åµŒå¥—æ»‘åŠ¨
https://juejin.cn/post/6939564212553252900


recyclerViewåˆ¤æ–­æ˜¯å¦æ»šåŠ¨åˆ°åº•https://blog.51cto.com/mozhimen/5412354
```
recyclerView.canScrollVertically(-1)  -1 //æ»‘åŠ¨åˆ°é¡¶éƒ¨   1//æ»‘åŠ¨åˆ°åº•éƒ¨

val firstCompletelyVisibleItemPosition = layoutManager.findFirstCompletelyVisibleItemPosition()
if (firstCompletelyVisibleItemPosition == 0) {
    //æ»‘åŠ¨åˆ°é¡¶éƒ¨
}
 val lastCompletelyVisibleItemPosition = layoutManager.findLastCompletelyVisibleItemPosition()
if (lastCompletelyVisibleItemPosition == layoutManager.getItemCount() - 1) {
   //æ»‘åŠ¨åˆ°åº•éƒ¨
}
```

RecyclerView
åŒä¸€ä¸ªåˆ—è¡¨çš„ä¸åŒå±•ç¤ºéƒ¨åˆ†  ä¾‹å¦‚å…¨éƒ¨ï¼Œåªæœ‰æˆåŠŸï¼Œåªæœ‰å¤±è´¥
å¯ä»¥åªæœ‰ä¸€ä¸ªåˆ—è¡¨ï¼Œæ ¹æ®å½“å‰çš„æ˜¾ç¤ºç±»å‹ï¼Œè¿›è¡Œéšè—æˆ–å±•ç°å³å¯  è¿™æ ·ä¸åŒçŠ¶æ€çš„æ“ä½œå°±å¯ä»¥åŒæ­¥äº†
æˆ–è€…åªæœ‰ä¸€ä¸ªåˆ—è¡¨ï¼Œæ¯æ¬¡æ›´æ–°ä»–ï¼Œå†æ¬¡è¿›è¡Œè¿‡æ»¤åç»™recyclerviewå±•ç¤º
è¿™ç§æ–¹å¼éœ€è¦notifyAllData  ä¸é€‚åˆdiffUtilçš„å•ä¸ªæ›´æ–°
ä½¿ç”¨ä¸€ä¸ªæ•°æ®æºï¼Œadapterçš„æ›´æ–°éƒ½ååº”åˆ°åŒä¸€ä¸ªæ•°æ®æºï¼Œç„¶åæŸ¥æ‰¾åˆ°adapterä¸­çš„ä½ç½®è¿›è¡Œæ›´æ–°
ä¹Ÿå¯ä»¥ åˆ›å»º3ä¸ªrecyclerview+fragmentï¼Œç„¶åè¿›è¡Œåˆ‡æ¢

ä½¿ç”¨indexæ›´æ–°  å¿…é¡»ä¿è¯indexä¸ºæœ€æ–°ï¼Œå¦‚æœlistæ›´æ–°äº†ï¼Œlistenerä¸­ä½¿ç”¨çš„indexä¸ºæ—§çš„ï¼Œå¯èƒ½å‡ºç°å¼‚å¸¸
ä½¿ç”¨dataæ›´æ–°  å¿…é¡»ä¿è¯æ‰“dataä¸ºæœ€æ–° å…ˆåœ¨listä¸­æŸ¥è¯¢dataä½ç½®ç„¶åæ›´æ–°ï¼Œå¦‚æœlistenerä¸­dataæ•°æ®ä¸ºæ—§çš„ï¼Œå¯èƒ½å‡ºç°å¼‚å¸¸  notifyæ—¶æ›¿æ¢äº†listçš„dataï¼Œå‡ºç°æ–°æ•°æ®å˜ä¸ºæ—§æ•°æ®
ä½¿ç”¨æ•°æ®çš„å”¯ä¸€idï¼ŒæŸ¥è¯¢åæ›´æ–°ï¼Œæ›´æ–°æ—¶ä¸æ›´æ–°æ•°æ®åˆ—è¡¨


adapterçš„ä½¿ç”¨
åªåšåŸºç¡€çš„é¡µé¢é€»è¾‘å¤„ç†ï¼Œä¸åšé€»è¾‘å¤„ç†  ï¼ï¼ï¼ï¼ é€»è¾‘æ”¾åœ¨å¤–ä¾§ï¼ŒbindViewåªåšåŸºç¡€çš„ç»‘å®š
binViewè§¦å‘é¢‘ç¹ï¼Œå¢åŠ é€»è¾‘ä¼šä½¿å¾—è°ƒè¯•å›°éš¾ï¼Œé¡µé¢è¾¹å¤æ‚ï¼Œä¸å¦‚å°†æ‰€æœ‰é€»è¾‘æ”¾åœ¨å¤–éƒ¨ï¼Œç„¶åæ›´æ–°åˆ°bindView

adapteræ²¡æœ‰ç”Ÿå‘½å‘¨æœŸåˆ¤æ–­ï¼Œæ›´æ–°æ•°æ®æºåï¼Œå†ç»™Recyclerviewå±•ç¤º
ConcatAdapter å°†ä¸åŒçš„adapteræˆ–è€…æ•°æ®è¿›è¡Œæ•´åˆ
```
// å¾ªç¯ listï¼Œæœ‰å¤šå°‘ä¸ªæ•°ç»„ï¼Œå°±åˆ›å»ºå¤šå°‘ä¸ª GroupAdapterï¼Œå°±è¿™ä¹ˆç®€å•
list.forEach {
    val adapter = GroupAdapter()
    adapter.submitList(it.groupList)

    // åˆ›å»ºå¥½ä»¥åï¼Œç›´æ¥æ‰”è¿› ConcatAdapter
    concatAdapter.addAdapter(adapter)
}
æ•°æ®æ ¼å¼ï¼šå–å‡ºgroup_listè¿›è¡Œå±•ç¤º
[{
		"group_name": "1",
		"group_list": [{
				"title": "patton",
				"content": "this is content"
			},
			{
				"title": "nicole",
				"content": "this is content"
			},
			{
				"title": "anthony",
				"content": "this is content"
			}
		]
	},
	{
		"group_name": "2",
		"group_list": [{
				"title": "zane",
				"content": "this is content"
			},
			{
				"title": "venus",
				"content": "this is content"
			},
			{
				"title": "yahya",
				"content": "this is content"
			},
			{
				"title": "starlight",
				"content": "this is content"
			},
			{
				"title": "twinkle",
				"content": "this is content"
			}
		]
	},
```


å•å‡»ï¼Œå¤šé€‰ï¼Œå¤šé€‰
```
 @Override
    public void onBindViewHolder(@NonNull BasicViewHolder holder, final int position) {}
```
onBindViewHolderçš„è§¦å‘æ—¶æœºæ˜¯viewå±•ç¤ºæ—¶  onBindViewHolderåšçš„äº‹å°±æ˜¯æŠŠæ•°æ®ç»‘å®šåˆ°viewï¼Œviewæ›´æ–°-ã€‹æ”¹å˜æ•°æ®-ã€‹notify->viewæ›´æ–°
onBindViewHolder{
  tv.setText(datas.text)
  tv.click{
     datas[i].text=newText
     notifyItemChanged; //è§¦å‘æ–°çš„bindViewä»è€Œæ›´æ–°view
  }
}
RecyclerViewä¸­itemæœ‰è‡ªå·±çš„çŠ¶æ€å¯ä»¥é€šè¿‡view.setTag()/getTag()ä¿å­˜å’Œè·å–ï¼Œè¿™ä¸€åˆ‡éƒ½æ˜¯åœ¨onBindViewHolderæ–¹æ³•ä¸­å®Œæˆï¼Œ
  æ¯æ¬¡æ–¹æ³•è°ƒç”¨ç»‘å®šçš„viewæ˜¯ä¸åŒçš„
Flutterä¸­ç›´æ¥æ„å»ºæ¯ä¸ªwidgetï¼Œæ¯ä¸ªwidgetæœ‰è‡ªå·±çš„çŠ¶æ€ï¼Œå¯ä»¥å¾ˆæ–¹ä¾¿æ§åˆ¶

æ¯æ¬¡notifyDataChangedï¼Œtagéƒ½è¢«é‡ç½®äº†ï¼Œéœ€è¦æ³¨æ„æ˜¯ä¸æ˜¯éœ€è¦  onViewRecycledæ—¶ä¹Ÿè¦é‡ç½®çŠ¶æ€
onBinViewHolder{
   playerControl.setTag(R.id.audio_record_play_icon_status,
          AUDIO_RECORD_PLAY_ICON_STATUS_TO_PLAY);
}
å»ºè®®ä¸è¦ç›´æ¥æ›´æ–°viewï¼Œ
ä¸€æ˜¯viewçš„å¤ç”¨ï¼Œviewçš„ä¸€äº›å±æ€§æ²¡æœ‰é‡ç”¨ï¼Œå‡ºç°å¥‡æ€ªçš„é—®é¢˜ï¼Œ
äºŒæ˜¯ç›´æ¥æ›´æ–°viewæ¯æ¬¡onBindViewéœ€è¦æ›´æ–°æ—¶ï¼Œæœ‰äº›çŠ¶æ€å®¹æ˜“é—æ¼(æ¯”å¦‚åœ¨ç‚¹å‡»äº‹ä»¶ç»‘å®šå±æ€§äº†ï¼Œä½†æ˜¯å¤ç”¨åonBindViewå°±æ²¡æœ‰äº†)
å»ºè®®ç»™itemç»‘å®šæ•°æ®ï¼Œæ“ä½œæ•°æ®æ›´æ–°ï¼Œåªæ›´æ–°æ¯ä¸€ä¸ªitemå¯¹åº”çš„æ•°æ®


ç»™æœ€åä¸€è¡Œè®¾ç½®åº•è¾¹è·
1
```
   class AudioRecordItemDecoration extends RecyclerView.ItemDecoration {
   ...
        @Override
        public void getItemOffsets(Rect outRect, View view,
                                   RecyclerView parent, RecyclerView.State state) {

            if (parent.getChildAdapterPosition(view) == parent.getAdapter().getItemCount() - 1) {
                outRect.bottom = 200;
            }
        }
    }
```
2 onBindViewHolder
ä¸­è®¾ç½®     


recyclerviewå¤šå¸ƒå±€
https://blog.csdn.net/Picasso_L/article/details/50697844
1.é‡å†™RecyclerView.Adapterçš„getItemViewType(int position),åœ¨æ­¤æ–¹æ³•ä¸­æ ¹æ®ä¸åŒçš„positionï¼Œè®¾ç½®ä¸åŒçš„ViewType
2.ç¼–å†™å…·ä½“çš„RecyclerView.ViewHolderå­ç±»(ä¸åŒå­ç±»å¯¹åº”ä¸åŒViewæˆ–Layout)
3.é‡å†™RecyclerView.Adapterçš„onCreateViewHolder(ViewGroup parent,int viewType) åœ¨æ­¤æ–¹æ³•ä¸­æ ¹æ®æˆ‘ä»¬ä¹‹å‰è®¾ç½®çš„ViewTypeæ¥è¿”å›ä¸åŒçš„RecyclerView.ViewHolderçš„å­ç±»
```
@Override
public RecyclerView.ViewHolder onCreateViewHolder(ViewGroup viewGroup, int viewType) {
        RecyclerView.ViewHolder holder = getViewHolderByViewType(viewType);
        //å¯ä»¥é…ç½®å¤šç§ViewHolder   
        return holder;
    }

private RecyclerView.ViewHolder getViewHolderByViewType(int viewType) {}
@Override
 public int getItemViewType(int position) {}
@Override
 public void onBindViewHolder(RecyclerView.ViewHolder viewHolder, int i) {
```

recyclerViewå› ä¸ºåŠ¨ç”»é—ªçƒ
```
binding.audioRecordingRecyclerView.setItemAnimator(null);
```

éƒ¨åˆ†æƒ…å†µä¸è°ƒç”¨notifyItemä¸ºä»€ä¹ˆä¸èƒ½æ›´æ–°view
onclick{
  text.setText
  adapter.notifyItem()  
}
recyclerviewåœ¨layouté˜¶æ®µä¼šå»¶è¿Ÿå­childçš„requestLayoutæ“ä½œ



recyclerViewæ–°è€ä½ç½® åˆ†åˆ«æ›´æ–°
```
  @Override
  public void onItemClick(ViewGroup parent, View view, Object o, int position) {
    int oldPosition = clickPosition;
    adapter.notifyItemChanged(oldPosition);
    clickPosition = position;
    adapter.notifyItemChanged(position);
  }
```

è®°å½•recyclerViewè®°å½•å½“å‰ç‚¹å‡»ä½ç½®
ä½¿ç”¨å¯¹è±¡itemObjectï¼Œè€Œä¸æ˜¯positionï¼Œå¦‚æœrecyclerviewå­˜åœ¨è‡ªåŠ¨åˆ·æ–°æœºåˆ¶ï¼Œpositionå°±ä¸å¯¹äº†

ConstraintLayout+recyclerViewæœ€åä¸€æ¡å±•ç¤ºä¸å…¨
å¯¹RecyclerViewè¿›è¡Œé™åˆ¶,layout_height="0dp"
```
<androidx.recyclerview.widget.RecyclerView
        android:id="@+id/recyclerView"
        android:layout_width="match_parent"
        android:layout_height="0dp"
        app:layout_constraintBottom_toBottomOf="parent"
        app:layout_constraintEnd_toEndOf="parent"
        app:layout_constraintStart_toStartOf="parent"
        app:layout_constraintTop_toBottomOf="@+id/titleTextView"
     />
```
recyclerviewç¦æ­¢æ»‘åŠ¨
```
//1
  recyclerView.setOnTouchListener(new View.OnTouchListener() {
      @Override
      public boolean onTouch(View v, MotionEvent event) {
          return true;
      }
  });
//2
recyclerView.setLayoutManager(new LinearLayoutManager(context) {
 @Override
 public boolean canScrollVertically() {
  return false;
 }
});  
```
recyclerviewè®¾ç½®æœ€å¤§é«˜åº¦
1é‡å†™view
```
@Override
protected void onMeasure(int widthSpec, int heightSpec) {
    heightSpec = MeasureSpec.makeMeasureSpec(Utils.dpsToPixels(240), MeasureSpec.AT_MOST);
    super.onMeasure(widthSpec, heightSpec);
}
```
2 ConstraintLayoutä½¿ç”¨
```
app:layout_constraintHeight_max="300dp"
```


recyclerviewåµŒå¥—
```
onBindView{
  subRecyclerview.adapter = new Adapter æœ‰é—®é¢˜ï¼Œæ¯æ¬¡æ›´æ–°éƒ½ä¼šç”Ÿæˆæ–°çš„adapter  å»ºè®®æ”¾åˆ°viewHodlerä¸­
    å…¶ä»–éœ€è¦åˆ›å»ºå¯¹è±¡çš„ç±»ä¼¼ï¼ŒonBindåªéœ€æ›´æ–°å¸ƒå±€å†…å®¹å³å¯
}
```
åµŒå¥—åˆ·æ–°å­View
å­recyclerViewçš„adapteræ”¾åœ¨dataé‡Œé¢ï¼Œæ–¹ä¾¿è·å–
å­recyclerviewå…±ç”¨RecycledViewPoolï¼Œå‡å°‘åˆ›å»º
