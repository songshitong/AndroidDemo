Huffman 编码
• 原理：出现概率较大的符号采用较短的编码，概率较小的符号采用较长的编码
• 静态 Huffman 编码
  • https://httpwg.org/specs/rfc7541.html#huffman.code
• 动态 Huffman 编码   刚刚传输过的使用动态编码，容易被攻击，更推荐使用静态编码

  a,e使用较短的编码，罗马数字，z,使用较长
  的，我使用较短的编码，生僻字，用的少的使用较长编码
  
  https://httpwg.org/specs/rfc7541.html#huffman.code
   1 00001    2 00010  常用的1，2使用较短的编码
   3 011001  3不怎么常用了，使用6位
   ; 11111011 采用一个字节的分号
   非常不常用的采用三个字节表示
       ( 31)  |11111111|11111111|11111111|1011         ffffffb  [28]
   小写a  00011 5位     大写A 100001 6位
   
   
 
Huffman 树的构造过程   先构造Huffman树 
1. 计算各字母的出现概率
2. 将出现频率最小的两个字母相加构成子树，左小右大
3. 重复步骤 2，直至完成树的构造
4. 给树的左链接编码为 0，右链接编码为 1
5. 每个字母的编码即从根结点至所在叶结点中所有链接的编码  


Huffman 树构造过程（1）
• 有 FORGET 这六个字母需要编码，其出现频率如下 
  Symbol  F  O  R  G  E  T
Frequency 2  3  4  4  5  7

Huffman 树构造过程（2）
1. 将概率为 2 的 F 与概率为 3 的 O 构成子树，其父结点概 率为 5
2. 将概率为 4 的 R 与概率为 4 的 G 构成子树，其父结点概 率为 8
3. 将概率为 5 的 E 与第 1 步生成的概率为 5 的子树合并
4. 将概率为 7 的 T 与第 2 步生成的概率为 8 的子树合并
5. 将第 3 步生成的概率为 10 的子树与第 4 步生成的概率为 15 的子树合并


Huffman 树构造过程
• 最终编码如下      见图



Huffman 编码举例
• if-none-match"5cb816f5-19d8”  要传输的
• Huffman 码
  • 11111110010110110010010001101111000001011100100101011011010110000010111111001000111101111111001
• 69 8c fe 5b 24 6f 05 c9 5b 58 2f c8 f7 f3
  5cb816f5-19d8 的Huffman  是fe 5b 24 6f 05 c9 5b 58 2f c8 f7 f3
  右键复制为二进制11111110010110110010010001101111000001011100100101011011010110000010111111001000111101111111001
  对比Huffman表 可以查看具体的字节
  
  
  

子杨
1. 老师哈夫曼动态编码为什么会被攻击？静态的不是更容易被攻击吗？
2. 老师现在所有的数字和字母的频率都已经写死了是吧？编码的时候直接查表就行了？
作者回复: 这两个其实是同一个问题。因为，huffman之外，还有TLS保证安全性，所以，huffman字母的频率写死，直接查表，没有安全性问题。
破解密文时，最怕出现规律性。比如二战德军密文频繁出现:嗨希特勒。而动态huffman，它的动态是根据之前的请求中字母出现频繁构造的，那么这就出现了规律。若之前的请求是攻击者有意构造的，就更容易破解了


林特超
老师，请问接收方是怎么确定哈夫曼编码后的内容的隔断位置的。如像视频中将01101100100分割为011011和00100，再分别解码为字符5和 c
  库博
  从前往后顺序读，然后在哈夫曼树中查找，找到有值的节点，则开始读下一个值。  